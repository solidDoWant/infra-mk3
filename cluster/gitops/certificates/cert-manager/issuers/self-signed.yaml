---
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/cert-manager.io/clusterissuer_v1.json
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: self-signed
spec:
  selfSigned:
    {}
    # TODO implement CRL service + CLI tool that allows for revoking certs based upon cert-manager name
    # crlDistributionPoints:
    #   -
---
# yaml-language-server: $schema=../../../../../schemas/crds/certificaterequestpolicy_v1alpha1.json
# Approve all requested self-signed certs. They won't be trusted by default and can
# be generated by anybody with or without access to the issuer.
apiVersion: policy.cert-manager.io/v1alpha1
kind: CertificateRequestPolicy
metadata:
  name: self-signed-issuer
spec:
  selector:
    issuerRef:
      group: cert-manager.io/v1
      kind: ClusterIssuer
      name: self-signed
